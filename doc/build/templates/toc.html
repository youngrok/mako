# toc.myt - prints full table of contents listings given toc.TOCElement strucures

<%def name="toc(toc)">
	<div class="maintoc">

	<a name="table_of_contents"></a>
	<h2>Table of Contents&nbsp;&nbsp;<a class="smalllink" href="#full_index">(view full)</a></h2>
	
	${printtoc(root=toc,current=None,full=False,children=False,anchor_toplevel=False)}

	<a name="full_index"></a>
	<h2>Table of Contents&nbsp;&nbsp;<a class="smalllink" href="#table_of_contents">(view brief)</a></h2>
	
	${printtoc(root=toc,current=None,full=True,children=True,anchor_toplevel=False)}

	</div>
</%def>


<%def name="printtoc(root,current=None,full=False,children=True,anchor_toplevel=False,extension='html')">
    <ul>
    % for item in root.children:
        <li><A style="${item is current and "font-weight:bold;" or "" }" href="${item.get_link(extension=extension,anchor=anchor_toplevel) }">${item.description}</a></li>
        
        % if children:
            ${printtoc(item, current=current, full=full,children=True,anchor_toplevel=anchor_toplevel)}
        % endif
    % endfor
    </ul>
</%def>

